asyncapi: 2.6.0
info:
    title: K-Prime Gateway API Documentation
    version: API Version 2
    description: Welcome to the K-Prime API Documentation! You can use our API to access K-Prime API endpoints, which can get informationin our database. We have language bindings in Shell! You can view code examples in the dark area to the right
channels:
    auth:
        publish:
            message:
                oneOf:
                    - $ref: '#/components/messages/auth.publish.auth'
components:
    messages:
        auth.publish.auth:
            tags:
                - name: auth
            payload:
                $ref: '#/components/schemas/controller.Params'
            x-response:
                $ref: '#/components/schemas/types.AuthResponse'
            summary: This endpoint is use for login and get the access_token.
            description: 'endpoint: `ws://localhost:8080/ws/api/v2` with method public/auth'
    schemas:
        controller.Params:
            type: object
            required:
                - grant_type
            properties:
                client_id:
                    description: Required for grant type client_credentials and client_signature
                    type: string
                client_secret:
                    description: Required for grant type client_credentials
                    type: string
                data:
                    description: Optional for grant type client_signature; contains any user specific value
                    type: string
                grant_type:
                    enum:
                        - client_credentials
                        - client_signature
                        - refresh_token
                    description: Method of authentication
                    type: string
                nonce:
                    description: Optional for grant type client_signature; delivers user generated initialization vector for the server token
                    type: string
                refresh_token:
                    description: Required for grant type refresh_token
                    type: string
                signature:
                    description: Required for grant type client_signature, it's a cryptographic signature calculated over provided fields using user secret key.
                    type: string
                timestamp:
                    description: Required for grant type client_signature, provides time when request has been generated
                    type: string
        types.AuthResponse:
            type: object
            properties:
                access_token:
                    description: Access Token to use for authentication
                    type: string
                expires_in:
                    description: Token lifetime in seconds
                    type: integer
                refresh_token:
                    description: Can be used to request a new token (with a new lifetime)
                    type: string
                scope:
                    description: Type of the access for assigned token
                    type: string
                token_type:
                    description: Authorization type, allowed value - bearer
                    type: string
